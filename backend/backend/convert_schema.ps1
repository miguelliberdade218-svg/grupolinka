"# Script para converter schema para camelCase\n\nfunction ConvertTo-CamelCase {\n    param([string]$SnakeCase)\n    \n    $parts = $SnakeCase.Split('_')\n    $result = $parts[0]\n    for ($i = 1; $i -lt $parts.Count; $i++) {\n        $result += (Get-Culture).TextInfo.ToTitleCase($parts[$i].ToLower())\n    }\n    return $result\n}\n\n# Gerar script SQL basico\n$sqlScript = @\"\n-- SCRIPT PARA CONVERTER SCHEMA PARA camelCase\n-- E REMOVER TABELA eventManagers\n\n-- ============================================\n-- 1. REMOVER TABELA eventManagers\n-- ============================================\nDROP TABLE IF EXISTS public.\"eventManagers\" CASCADE;\n\n-- ============================================\n-- 2. RENOMEAR TABELAS PRINCIPAIS\n-- ============================================\nALTER TABLE IF EXISTS public.event_availability RENAME TO eventAvailability;\nALTER TABLE IF EXISTS public.event_bookings RENAME TO eventBookings;\nALTER TABLE IF EXISTS public.event_spaces RENAME TO eventSpaces;\nALTER TABLE IF EXISTS public.hotel_booking_logs RENAME TO hotelBookingLogs;\nALTER TABLE IF EXISTS public.hotel_booking_units RENAME TO hotelBookingUnits;\nALTER TABLE IF EXISTS public.hotel_bookings RENAME TO hotelBookings;\nALTER TABLE IF EXISTS public.hotel_promotions RENAME TO hotelPromotions;\nALTER TABLE IF EXISTS public.hotel_reviews RENAME TO hotelReviews;\nALTER TABLE IF EXISTS public.hotel_seasons RENAME TO hotelSeasons;\nALTER TABLE IF EXISTS public.room_availability RENAME TO roomAvailability;\nALTER TABLE IF EXISTS public.room_types RENAME TO roomTypes;\nALTER TABLE IF EXISTS public.long_stay_discount_settings RENAME TO longStayDiscountSettings;\n\n-- ============================================\n-- 3. COLUNAS MAIS IMPORTANTES (exemplos)\n-- ============================================\n-- Nota: Esta e uma lista parcial. Todas as colunas com underscore\n-- precisam ser convertidas. O script completo seria muito extenso.\n\n-- Tabela eventSpaces\nALTER TABLE IF EXISTS public.eventSpaces RENAME COLUMN hotel_id TO hotelId;\nALTER TABLE IF EXISTS public.eventSpaces RENAME COLUMN capacity_min TO capacityMin;\nALTER TABLE IF EXISTS public.eventSpaces RENAME COLUMN capacity_max TO capacityMax;\nALTER TABLE IF EXISTS public.eventSpaces RENAME COLUMN is_active TO isActive;\nALTER TABLE IF EXISTS public.eventSpaces RENAME COLUMN created_at TO createdAt;\nALTER TABLE IF EXISTS public.eventSpaces RENAME COLUMN updated_at TO updatedAt;\n\n-- Tabela eventBookings\nALTER TABLE IF EXISTS public.eventBookings RENAME COLUMN event_space_id TO eventSpaceId;\nALTER TABLE IF EXISTS public.eventBookings RENAME COLUMN hotel_id TO hotelId;\nALTER TABLE IF EXISTS public.eventBookings RENAME COLUMN start_datetime TO startDatetime;\nALTER TABLE IF EXISTS public.eventBookings RENAME COLUMN end_datetime TO endDatetime;\nALTER TABLE IF EXISTS public.eventBookings RENAME COLUMN created_at TO createdAt;\nALTER TABLE IF EXISTS public.eventBookings RENAME COLUMN updated_at TO updatedAt;\n\n-- Tabela hotelBookings\nALTER TABLE IF EXISTS public.hotelBookings RENAME COLUMN hotel_id TO hotelId;\nALTER TABLE IF EXISTS public.hotelBookings RENAME COLUMN room_type_id TO roomTypeId;\nALTER TABLE IF EXISTS public.hotelBookings RENAME COLUMN check_in TO checkIn;\nALTER TABLE IF EXISTS public.hotelBookings RENAME COLUMN check_out TO checkOut;\nALTER TABLE IF EXISTS public.hotelBookings RENAME COLUMN created_at TO createdAt;\nALTER TABLE IF EXISTS public.hotelBookings RENAME COLUMN updated_at TO updatedAt;\n\n-- ============================================\n-- 4. ATUALIZAR CONSTRAINTS (exemplo)\n-- ============================================\n-- As constraints precisam ser recriadas. Exemplo:\n-- ALTER TABLE ONLY public.eventBookings\n--     DROP CONSTRAINT IF EXISTS event_bookings_pkey;\n-- ALTER TABLE ONLY public.eventBookings\n--     ADD CONSTRAINT eventBookings_pkey PRIMARY KEY (id);\n\n-- ============================================\n-- 5. VERIFICAR RELACIONAMENTOS\n-- ============================================\n-- Apos conversao, verificar estes relacionamentos:\n-- 1. eventSpaces -> hotels (hotelId)\n-- 2. eventBookings -> eventSpaces (eventSpaceId)\n-- 3. eventBookings -> hotels (hotelId)\n-- 4. hotelBookings -> hotels (hotelId)\n-- 5. hotelBookings -> roomTypes (roomTypeId)\n\n-- ============================================\n-- 6. PRÓXIMOS PASSOS\n-- ============================================\n-- 1. Recriar todas as constraints (PK, FK, UNIQUE, CHECK)\n-- 2. Recriar todos os indices com novos nomes\n-- 3. Recriar funcoes que referenciam tabelas/colunas\n-- 4. Atualizar aplicacao para usar novos nomes\n-- 5. Testar todas as funcionalidades\n\nDO \$\$ \nBEGIN\n    RAISE NOTICE 'Conversao para camelCase iniciada';\n    RAISE NOTICE 'Tabela eventManagers removida';\n    RAISE NOTICE 'Lembre-se de recriar constraints e indices';\nEND \$\$;\n\"@\n\n# Salvar script\n$sqlScript | Out-File -FilePath \"convert_to_camelcase.sql\" -Encoding UTF8\n\nWrite-Host \"Script gerado: convert_to_camelcase.sql\" -ForegroundColor Green\nWrite-Host \"\"\nWrite-Host \"IMPORTANTE:\" -ForegroundColor Red\nWrite-Host \"1. Execute em ambiente de teste primeiro\" -ForegroundColor Yellow\nWrite-Host \"2. Faça backup do banco de dados\" -ForegroundColor Yellow\nWrite-Host \"3. Este script e parcial - precisa ser completado\" -ForegroundColor Yellow"